#!/bin/bash

###############################################################################
#
#   An utility script to checking which Java version compiled each submodule
#   of this project.
#
###############################################################################

echo "===================================================="
echo "Verifying Java version for classes within JAR files."
echo ""
echo "  problem4j-core must be 52 (Java 8)"
echo ""
echo "Note that JAR files must exist (./gradlew build)."
echo ""

echo "===== problem4j-core ===="
javap \
    -verbose \
    -classpath build/libs/problem4j-core.jar \
    io.github.problem4j.core.Problem \
    | grep "major version"
